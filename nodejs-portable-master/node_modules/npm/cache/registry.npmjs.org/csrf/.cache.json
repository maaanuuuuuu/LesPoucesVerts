{"_id":"csrf","_rev":"15-5194b8eb44bd484bb7f632813e250a02","name":"csrf","description":"primary logic behind csrf tokens","dist-tags":{"latest":"2.0.1"},"versions":{"0.0.1":{"name":"csrf","description":"Light-weight CSRF protection middleware with IP whitelisting","version":"0.0.1","author":{"name":"Michael Schonfeld","email":"michael@dwolla.com"},"dependencies":{"connect":"1.x","underscore":"1.3.3"},"keywords":["middleware","ipwhitelist","ip whilelist","csrf"],"repository":{"type":"git","url":"git://github.com/dwolla/node-csrf.git"},"_npmUser":{"name":"dwolla","email":"michael@dwolla.com"},"_id":"csrf@0.0.1","devDependencies":{},"optionalDependencies":{},"engines":{"node":"*"},"_engineSupported":true,"_npmVersion":"1.1.16","_nodeVersion":"v0.6.18","_defaultsLoaded":true,"dist":{"shasum":"f1eaebd39972dc57829068e8d8921af0371e2b02","tarball":"http://registry.npmjs.org/csrf/-/csrf-0.0.1.tgz"},"maintainers":[{"name":"dwolla","email":"michael@dwolla.com"}],"directories":{}},"0.0.2":{"name":"csrf","description":"Light-weight CSRF protection middleware with IP whitelisting","version":"0.0.2","author":{"name":"Michael Schonfeld","email":"michael@dwolla.com"},"contributors":[{"name":"Sam Breed","email":"sam@quickleft.com","url":"http://wookiehangover.com"}],"dependencies":{"underscore":"1.3.3"},"devDependencies":{"mocha":"~1.4.2"},"keywords":["middleware","ipwhitelist","ip whilelist","csrf"],"repository":{"type":"git","url":"git://github.com/dwolla/node-csrf.git"},"main":"index.js","scripts":{"test":"mocha"},"license":"BSD","_npmUser":{"name":"dwolla","email":"michael@dwolla.com"},"_id":"csrf@0.0.2","optionalDependencies":{},"engines":{"node":"*"},"_engineSupported":true,"_npmVersion":"1.1.16","_nodeVersion":"v0.6.18","_defaultsLoaded":true,"dist":{"shasum":"64be34b7b17fed9f9bba6888e29c68e87b820506","tarball":"http://registry.npmjs.org/csrf/-/csrf-0.0.2.tgz"},"maintainers":[{"name":"dwolla","email":"michael@dwolla.com"}],"directories":{}},"0.0.3":{"name":"csrf","description":"Light-weight CSRF protection middleware with IP whitelisting","version":"0.0.3","author":{"name":"Michael Schonfeld","email":"michael@dwolla.com"},"contributors":[{"name":"Sam Breed","email":"sam@quickleft.com","url":"http://wookiehangover.com"}],"dependencies":{"underscore":"1.3.3","crypto":"0.0.3"},"devDependencies":{"mocha":"~1.4.2"},"keywords":["middleware","ipwhitelist","ip whilelist","csrf"],"repository":{"type":"git","url":"git://github.com/dwolla/node-csrf.git"},"main":"index.js","scripts":{"test":"mocha"},"license":"BSD","_npmUser":{"name":"dwolla","email":"michael@dwolla.com"},"_id":"csrf@0.0.3","optionalDependencies":{},"engines":{"node":"*"},"_engineSupported":true,"_npmVersion":"1.1.16","_nodeVersion":"v0.6.18","_defaultsLoaded":true,"dist":{"shasum":"1bf10ade4bd4ff2db3a7bda2c28c4fc8c30a212e","tarball":"http://registry.npmjs.org/csrf/-/csrf-0.0.3.tgz"},"maintainers":[{"name":"dwolla","email":"michael@dwolla.com"}],"directories":{}},"2.0.1":{"name":"csrf","description":"primary logic behind csrf tokens","version":"2.0.1","author":{"name":"Jonathan Ong","email":"me@jongleberry.com","url":"http://jongleberry.com"},"license":"MIT","repository":{"type":"git","url":"https://github.com/pillarjs/csrf"},"dependencies":{"rndm":"~1.0.0","scmp":"0.0.3","uid-safe":"~1.0.1","base64-url":"1.0.0"},"devDependencies":{"istanbul":"0","bluebird":"2","mocha":"1"},"scripts":{"test":"mocha --reporter spec","test-cov":"istanbul cover node_modules/mocha/bin/_mocha -- --reporter dot","test-travis":"istanbul cover node_modules/mocha/bin/_mocha --report lcovonly -- --reporter dot"},"keywords":["csrf","tokens"],"files":["index.js"],"gitHead":"d23024ade7607942a2236ec0ae5903396f610db0","bugs":{"url":"https://github.com/pillarjs/csrf/issues"},"homepage":"https://github.com/pillarjs/csrf","_id":"csrf@2.0.1","_shasum":"d673a2efb4db7d0e6805dadd838c57e30ae0ee73","_from":".","_npmVersion":"1.4.21","_npmUser":{"name":"jongleberry","email":"jonathanrichardong@gmail.com"},"maintainers":[{"name":"dwolla","email":"michael@dwolla.com"},{"name":"jongleberry","email":"jonathanrichardong@gmail.com"}],"dist":{"shasum":"d673a2efb4db7d0e6805dadd838c57e30ae0ee73","tarball":"http://registry.npmjs.org/csrf/-/csrf-2.0.1.tgz"},"directories":{}}},"readme":"# CSRF\n\n[![NPM version][npm-image]][npm-url]\n[![Build status][travis-image]][travis-url]\n[![Test coverage][coveralls-image]][coveralls-url]\n[![Dependency Status][david-image]][david-url]\n[![License][license-image]][license-url]\n[![Downloads][downloads-image]][downloads-url]\n\nLogic behind CSRF token creation and verification.\nRead [Understanding-CSRF](http://www.jongleberry.com/understanding-csrf.html) for more information on CSRF.\nUse this module to create custom CSRF middleware and what not.\n\n### Install\n\n```bash\n$ npm install csrf-tokens\n```\n\n## API\n\n```js\nvar tokens = require('csrf-tokens')(options)\n\nvar secret = tokens.secretSync()\nvar token  = tokens.create(secret)\nvar valid  = tokens.verify(secret, token)\n```\n\n### Options\n\n- `secretLength: 24` - the byte length of the secret key\n- `saltLength: 8` - the string length of the salt\n- `tokensize: (secret, salt) => token` - a custom token creation function\n\n#### tokens.secret([cb])\n\nAsynchronously create a new `secret` of length `secretLength`.\nIf `cb` is not defined, a promise is returned.\nYou don't have to use this.\n\n```js\ntokens.secret().then(function (secret) {\n\n})\n\ntokens.secret(function (err, secret) {\n\n})\n```\n\n#### var secret = tokens.secretSync()\n\nSynchronous version of `tokens.secret()`\n\n#### var token = tokens.token(secret)\n\nCreate a CSRF token based on a `secret`.\nThis is the token you pass to clients.\n\n#### var valid = tokens.verify(secret, token)\n\nCheck whether a CSRF token is valid based on a `secret`.\nIf it's not valid, you should probably throw a `403` error.\n\n## [License (MIT)](LICENSE)\n\n[npm-image]: https://img.shields.io/npm/v/csrf.svg?style=flat-square\n[npm-url]: https://npmjs.org/package/csrf\n[github-tag]: http://img.shields.io/github/tag/pillarjs/csrf.svg?style=flat-square\n[github-url]: https://github.com/pillarjs/csrf/tags\n[travis-image]: https://img.shields.io/travis/pillarjs/csrf.svg?style=flat-square\n[travis-url]: https://travis-ci.org/pillarjs/csrf\n[coveralls-image]: https://img.shields.io/coveralls/pillarjs/csrf.svg?style=flat-square\n[coveralls-url]: https://coveralls.io/r/pillarjs/csrf?branch=master\n[david-image]: http://img.shields.io/david/pillarjs/csrf.svg?style=flat-square\n[david-url]: https://david-dm.org/pillarjs/csrf\n[license-image]: http://img.shields.io/npm/l/csrf.svg?style=flat-square\n[license-url]: LICENSE\n[downloads-image]: http://img.shields.io/npm/dm/csrf.svg?style=flat-square\n[downloads-url]: https://npmjs.org/package/csrf\n","maintainers":[{"name":"dwolla","email":"michael@dwolla.com"},{"name":"jongleberry","email":"jonathanrichardong@gmail.com"},{"name":"dougwilson","email":"doug@somethingdoug.com"}],"time":{"modified":"2014-08-29T04:18:01.282Z","created":"2012-08-27T05:34:37.713Z","0.0.1":"2012-08-27T05:34:37.966Z","0.0.2":"2012-09-11T15:06:46.055Z","0.0.3":"2012-09-11T15:21:58.916Z","2.0.1":"2014-08-22T08:32:35.601Z"},"author":{"name":"Jonathan Ong","email":"me@jongleberry.com","url":"http://jongleberry.com"},"repository":{"type":"git","url":"https://github.com/pillarjs/csrf"},"keywords":["csrf","tokens"],"license":"MIT","readmeFilename":"README.md","homepage":"https://github.com/pillarjs/csrf","bugs":{"url":"https://github.com/pillarjs/csrf/issues"},"_attachments":{},"_etag":"\"3H7X33E5RQMVX0AQLAS8BOCQ3\""}